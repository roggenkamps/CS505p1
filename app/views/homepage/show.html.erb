<p id="notice"><%= notice %></p>

<h1>Welcome to CS505 Project</h1>

<% if current_user.present? %>
  <p>current_user:  <%= current_user.user %></p>
  <% if @log_entries.present? %>
    <h2>Logs:</h2>
    <table>
      <thead>
        <th>Date/time</th>
        <th>User</th>
        <th>Table</th>
        <th>Operation</th>
        <th>Subject</th>
        <th>Parameters</th>
      </thead>
      <tbody>
        <% @log_entries.each do |le| %>
          <tr>
            <td><%= le.created_at %></td>
            <td><%= le.user %></td>
            <td><%= le.relation %></td>
            <td><%= le.operation %></td>
            <td><%= le.object %></td>
            <td><%= le.parameters %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% end %>
<% else %>
<h2>Welcome to CS505 Project 1</h2>
<p>Please log in</p>

<%= form_for :user do |f| %>
  <div class="field">
    <%= f.label "Username" %><br />
    <%= f.text_field :user, autofocus: true, autocomplete: "user" %>
  </div>

  <div class="field">
    <%= f.label :password %><br />
    <%= f.password_field :password, autocomplete: "off" %>
  </div>

  <% if devise_mapping.rememberable? -%>
    <div class="field">
      <%= f.check_box :remember_me %>
      <%= f.label :remember_me %>
    </div>
  <% end -%>

  <div class="actions">
    <%= f.submit "Log in" %>
  </div>
<% end %>

<%= render "devise/shared/links" %>

<% end %>
